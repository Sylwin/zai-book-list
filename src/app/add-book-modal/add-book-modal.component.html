<div class="modal-header">
	<h4 *ngIf="isAdd()" class="modal-title" id="modal-basic-title">Add New Book</h4>
	<h4 *ngIf="!isAdd()" class="modal-title" id="modal-basic-title">Edit Book</h4>
	<button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
		<span aria-hidden="true">&times;</span>
	</button>
</div>
<div class="modal-body">
	<form #bookForm="ngForm">
		<div [hidden]="bookForm.submitted">
			<div class="cross-validation" [class.cross-validation-error]="(bookForm.touched || bookForm.dirty)">

				<div class="form-group">

					<label for="title">Title</label>
					<div class="input-group">
						<input [(ngModel)]="book.title" type="text" id="title" name="title" class="form-control"
						required #title="ngModel">
					</div>
					<div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
						<div *ngIf="title.errors.required">
							Title is required.
						</div>
					</div>

					<label for="author">Author</label>
					<div class="input-group">
						<input [(ngModel)]="book.author" type="text" id="author" name="author" class="form-control"
						required #author="ngModel">
						
					</div>
					<div *ngIf="author.invalid && (author.dirty || author.touched)" class="alert alert-danger">
						<div *ngIf="author.errors.required">
							Author is required.
						</div>
					</div>

					<label for="price">Price</label>
					<div class="input-group">
						<div class="input-group-prepend">
							<span class="input-group-text">$</span>
						</div>
						<input [(ngModel)]="book.price" type="text" id="price" name="price" class="form-control" 
						required #price="ngModel" pattern="[0-9]{1,}">
					</div>
					<div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger">
						<div *ngIf="price.errors.required">
							Price is required.
						</div>
						<div *ngIf="price.errors.pattern">
							Price must be a number.
						</div>
					</div>

					<label for="image">Image URL</label>
					<div class="input-group">
						<input [(ngModel)]="book.image" type="text" id="image" name="image" class="form-control" 
						required #image="ngModel">
					</div>
					<div *ngIf="image.invalid && (image.dirty || image.touched)" class="alert alert-danger">
						<div *ngIf="image.errors.required">
							Image is required.
						</div>
					</div>

					<label for="city_year">City and Year of publication</label>
					<div class="input-group">
						<input [(ngModel)]="book.city" type="text" id="city" name="city" class="form-control" 
						required #city="ngModel">
						<input [(ngModel)]="book.year" type="text" id="year" name="year" class="form-control"
						required #year="ngModel" pattern="[1-2][0-9]{2,3}">
					</div>
					<div *ngIf="(city.invalid && (city.dirty || city.touched))" class="alert alert-danger">
						<div *ngIf="city.errors.required">
							City is required.
						</div>
					</div>
					<div *ngIf="year.invalid && (year.dirty || year.touched)" class="alert alert-danger">
						<div *ngIf="year.errors.required">
							Year of Publication is required.
						</div>
						<div *ngIf="year.errors.pattern">
							Year of Publication must be a valid number.
						</div>
					</div>

					<label for="description">Description</label>
					<div class="input-group">
						<textarea [(ngModel)]="book.description" id="description" name="description" class="form-control" 
						required #description="ngModel"></textarea>
					</div>
					<div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
						<div *ngIf="description.errors.required">
							Description is required.
						</div>
					</div>

				</div>
			</div>
		</div>
	</form>
</div>
<div class="modal-footer">
	<button *ngIf="isAdd()" type="button" class="btn btn-outline-dark" (click)="submit()" [disabled]="bookForm.invalid">Add Book</button>
	<button *ngIf="!isAdd()" type="button" class="btn btn-outline-dark" (click)="submit()" [disabled]='bookForm.invalid'>Save Book</button>
</div>